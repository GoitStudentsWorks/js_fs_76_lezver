let temp = [
    {
      "_id": "643282b1e85766588626a083",
      "list_name": "Series Books",
      "date": "2023-04-09T09:28:38.379Z",
      "age_group": "",
      "amazon_product_url": "http://www.amazon.com/Diary-Wimpy-Kid-Hard-Luck/dp/1419711326?tag=NYTBSREV-20",
      "article_chapter_link": "",
      "author": "and   Jeff Kinney",
      "book_image": "https://storage.googleapis.com/du-prd/books/images/9781419711329.jpg",
      "book_image_width": 330,
      "book_image_height": 484,
      "book_review_link": "",
      "book_uri": "nyt://book/cb1d1f95-72fb-51ba-a5d1-fb54457d7ad9",
      "contributor": "written and illustrated by Jeff Kinney",
      "contributor_note": "written and illustrated by Jeff Kinney",
      "created_date": "2023-04-05 22:05:24",
      "description": "The travails and challenges of adolescence.",
      "first_chapter_link": "",
      "price": "0.00",
      "primary_isbn10": "141976294X",
      "primary_isbn13": "9781419762949",
      "publisher": "Amulet",
      "rank": 1,
      "rank_last_week": 2,
      "sunday_review_link": "",
      "title": "DIARY OF A WIMPY KID",
      "updated_date": "2023-04-05 22:10:13",
      "weeks_on_list": 733,
      "buy_links": [
        {
          "name": "Amazon",
          "url": "http://www.amazon.com/Diary-Wimpy-Kid-Hard-Luck/dp/1419711326?tag=NYTBSREV-20"
        },
        {
          "name": "Apple Books",
          "url": "https://goto.applebooks.apple/9781419762949?at=10lIEQ"
        },
        {
          "name": "Barnes and Noble",
          "url": "https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9781419762949"
        },
        {
          "name": "Books-A-Million",
          "url": "https://du-gae-books-dot-nyt-du-prd.appspot.com/redirect?url1=https%3A%2F%2Fwww.anrdoezrs.net%2Fclick-7990613-35140%3Furl%3Dhttps%253A%252F%252Fwww.booksamillion.com%252Fp%252FDIARY%252BOF%252BA%252BWIMPY%252BKID%252Fand%252B%252B%252BJeff%252BKinney%252F9781419762949&url2=https%3A%2F%2Fwww.anrdoezrs.net%2Fclick-7990613-35140%3Furl%3Dhttps%253A%252F%252Fwww.booksamillion.com%252Fsearch%253Fquery%253DDIARY%252BOF%252BA%252BWIMPY%252BKID%252Band%252B%252B%252BJeff%252BKinney"
        },
        {
          "name": "Bookshop",
          "url": "https://du-gae-books-dot-nyt-du-prd.appspot.com/redirect?url1=https%3A%2F%2Fbookshop.org%2Fa%2F3546%2F9781419762949&url2=https%3A%2F%2Fbookshop.org%2Fbooks%3Faffiliate%3D3546%26keywords%3DDIARY%2BOF%2BA%2BWIMPY%2BKID"
        },
        {
          "name": "IndieBound",
          "url": "https://du-gae-books-dot-nyt-du-prd.appspot.com/redirect?url1=https%3A%2F%2Fwww.indiebound.org%2Fbook%2F9781419762949%3Faff%3DNYT&url2=https%3A%2F%2Fwww.indiebound.org%2Fsearch%2Fbook%3Fkeys%3DDIARY%2BOF%2BA%2BWIMPY%2BKID%2Band%2B%2B%2BJeff%2BKinney%26aff%3DNYT"
        }
      ],
      "__v": 0
    },
    {
      "_id": "643282b1e85766588626a0ae",
      "list_name": "Series Books",
      "date": "2023-04-09T09:28:38.981Z",
      "age_group": "",
      "amazon_product_url": "https://www.amazon.com/dp/0593379853?tag=NYTBSREV-20",
      "article_chapter_link": "",
      "author": "Holly Jackson",
      "book_image": "https://storage.googleapis.com/du-prd/books/images/9780593379851.jpg",
      "book_image_width": 331,
      "book_image_height": 500,
      "book_review_link": "",
      "book_uri": "nyt://book/494423b3-84b1-5f41-ae97-b525e4a5245c",
      "contributor": "by Holly Jackson",
      "contributor_note": "",
      "created_date": "2023-04-05 22:05:24",
      "description": "Pippa Fitz-Amobi solves murderous crimes.",
      "first_chapter_link": "",
      "price": "0.00",
      "primary_isbn10": "1984896393",
      "primary_isbn13": "9781984896391",
      "publisher": "Delacorte",
      "rank": 2,
      "rank_last_week": 1,
      "sunday_review_link": "",
      "title": "A GOOD GIRL'S GUIDE TO MURDER",
      "updated_date": "2023-04-05 22:10:13",
      "weeks_on_list": 79,
      "buy_links": [
        {
          "name": "Amazon",
          "url": "https://www.amazon.com/dp/0593379853?tag=NYTBSREV-20"
        },
        {
          "name": "Apple Books",
          "url": "https://goto.applebooks.apple/9781984896391?at=10lIEQ"
        },
        {
          "name": "Barnes and Noble",
          "url": "https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9781984896391"
        },
        {
          "name": "Books-A-Million",
          "url": "https://du-gae-books-dot-nyt-du-prd.appspot.com/redirect?url1=https%3A%2F%2Fwww.anrdoezrs.net%2Fclick-7990613-35140%3Furl%3Dhttps%253A%252F%252Fwww.booksamillion.com%252Fp%252FA%252BGOOD%252BGIRL%252527S%252BGUIDE%252BTO%252BMURDER%252FHolly%252BJackson%252F9781984896391&url2=https%3A%2F%2Fwww.anrdoezrs.net%2Fclick-7990613-35140%3Furl%3Dhttps%253A%252F%252Fwww.booksamillion.com%252Fsearch%253Fquery%253DA%252BGOOD%252BGIRL%252527S%252BGUIDE%252BTO%252BMURDER%252BHolly%252BJackson"
        },
        {
          "name": "Bookshop",
          "url": "https://du-gae-books-dot-nyt-du-prd.appspot.com/redirect?url1=https%3A%2F%2Fbookshop.org%2Fa%2F3546%2F9781984896391&url2=https%3A%2F%2Fbookshop.org%2Fbooks%3Faffiliate%3D3546%26keywords%3DA%2BGOOD%2BGIRL%2527S%2BGUIDE%2BTO%2BMURDER"
        },
        {
          "name": "IndieBound",
          "url": "https://du-gae-books-dot-nyt-du-prd.appspot.com/redirect?url1=https%3A%2F%2Fwww.indiebound.org%2Fbook%2F9781984896391%3Faff%3DNYT&url2=https%3A%2F%2Fwww.indiebound.org%2Fsearch%2Fbook%3Fkeys%3DA%2BGOOD%2BGIRL%2527S%2BGUIDE%2BTO%2BMURDER%2BHolly%2BJackson%26aff%3DNYT"
        }
      ],
      "__v": 0
    },
    {
      "_id": "643282b1e85766588626a0ce",
      "list_name": "Series Books",
      "date": "2023-04-09T09:28:39.167Z",
      "age_group": "",
      "amazon_product_url": "http://www.amazon.com/Mockingjay-Final-Book-Hunger-Games/dp/0545663261?tag=NYTBSREV-20",
      "article_chapter_link": "",
      "author": "Suzanne Collins",
      "book_image": "https://storage.googleapis.com/du-prd/books/images/9780545663267.jpg",
      "book_image_width": 322,
      "book_image_height": 495,
      "book_review_link": "",
      "book_uri": "nyt://book/6023bfea-e267-5aca-8a56-2af3eba0439e",
      "contributor": "by Suzanne Collins",
      "contributor_note": "",
      "created_date": "2023-04-05 22:05:24",
      "description": "In a dystopia, a girl fights for survival on live TV.",
      "first_chapter_link": "",
      "price": "0.00",
      "primary_isbn10": "1338635174",
      "primary_isbn13": "9781338635171",
      "publisher": "Scholastic",
      "rank": 3,
      "rank_last_week": 3,
      "sunday_review_link": "",
      "title": "THE HUNGER GAMES",
      "updated_date": "2023-04-05 22:10:13",
      "weeks_on_list": 269,
      "buy_links": [
        {
          "name": "Amazon",
          "url": "http://www.amazon.com/Mockingjay-Final-Book-Hunger-Games/dp/0545663261?tag=NYTBSREV-20"
        },
        {
          "name": "Apple Books",
          "url": "https://goto.applebooks.apple/9781338635171?at=10lIEQ"
        },
        {
          "name": "Barnes and Noble",
          "url": "https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9781338635171"
        },
        {
          "name": "Books-A-Million",
          "url": "https://du-gae-books-dot-nyt-du-prd.appspot.com/redirect?url1=https%3A%2F%2Fwww.anrdoezrs.net%2Fclick-7990613-35140%3Furl%3Dhttps%253A%252F%252Fwww.booksamillion.com%252Fp%252FTHE%252BHUNGER%252BGAMES%252FSuzanne%252BCollins%252F9781338635171&url2=https%3A%2F%2Fwww.anrdoezrs.net%2Fclick-7990613-35140%3Furl%3Dhttps%253A%252F%252Fwww.booksamillion.com%252Fsearch%253Fquery%253DTHE%252BHUNGER%252BGAMES%252BSuzanne%252BCollins"
        },
        {
          "name": "Bookshop",
          "url": "https://du-gae-books-dot-nyt-du-prd.appspot.com/redirect?url1=https%3A%2F%2Fbookshop.org%2Fa%2F3546%2F9781338635171&url2=https%3A%2F%2Fbookshop.org%2Fbooks%3Faffiliate%3D3546%26keywords%3DTHE%2BHUNGER%2BGAMES"
        },
        {
          "name": "IndieBound",
          "url": "https://du-gae-books-dot-nyt-du-prd.appspot.com/redirect?url1=https%3A%2F%2Fwww.indiebound.org%2Fbook%2F9781338635171%3Faff%3DNYT&url2=https%3A%2F%2Fwww.indiebound.org%2Fsearch%2Fbook%3Fkeys%3DTHE%2BHUNGER%2BGAMES%2BSuzanne%2BCollins%26aff%3DNYT"
        }
      ],
      "__v": 0
    },
    {
      "_id": "643282b2e85766588626a0ee",
      "list_name": "Series Books",
      "date": "2023-04-09T09:28:39.266Z",
      "age_group": "",
      "amazon_product_url": "http://www.amazon.com/Harry-Potter-And-Order-Phoenix/dp/0439358078?tag=NYTBSREV-20",
      "article_chapter_link": "",
      "author": "J.K. Rowling",
      "book_image": "https://storage.googleapis.com/du-prd/books/images/9780590353427.jpg",
      "book_image_width": 328,
      "book_image_height": 495,
      "book_review_link": "",
      "book_uri": "nyt://book/17005581-f735-545e-acaf-79dcfdd25a1f",
      "contributor": "by J.K. Rowling",
      "contributor_note": "",
      "created_date": "2023-04-05 22:05:24",
      "description": "A wizard hones his conjuring skills in the service of fighting evil.",
      "first_chapter_link": "",
      "price": "0.00",
      "primary_isbn10": "059035342X",
      "primary_isbn13": "9780590353427",
      "publisher": "Scholastic",
      "rank": 4,
      "rank_last_week": 4,
      "sunday_review_link": "",
      "title": "HARRY POTTER",
      "updated_date": "2023-04-05 22:10:13",
      "weeks_on_list": 732,
      "buy_links": [
        {
          "name": "Amazon",
          "url": "http://www.amazon.com/Harry-Potter-And-Order-Phoenix/dp/0439358078?tag=NYTBSREV-20"
        },
        {
          "name": "Apple Books",
          "url": "https://goto.applebooks.apple/9780590353427?at=10lIEQ"
        },
        {
          "name": "Barnes and Noble",
          "url": "https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9780590353427"
        },
        {
          "name": "Books-A-Million",
          "url": "https://du-gae-books-dot-nyt-du-prd.appspot.com/redirect?url1=https%3A%2F%2Fwww.anrdoezrs.net%2Fclick-7990613-35140%3Furl%3Dhttps%253A%252F%252Fwww.booksamillion.com%252Fp%252FHARRY%252BPOTTER%252FJ.K.%252BRowling%252F9780590353427&url2=https%3A%2F%2Fwww.anrdoezrs.net%2Fclick-7990613-35140%3Furl%3Dhttps%253A%252F%252Fwww.booksamillion.com%252Fsearch%253Fquery%253DHARRY%252BPOTTER%252BJ.K.%252BRowling"
        },
        {
          "name": "Bookshop",
          "url": "https://du-gae-books-dot-nyt-du-prd.appspot.com/redirect?url1=https%3A%2F%2Fbookshop.org%2Fa%2F3546%2F9780590353427&url2=https%3A%2F%2Fbookshop.org%2Fbooks%3Faffiliate%3D3546%26keywords%3DHARRY%2BPOTTER"
        },
        {
          "name": "IndieBound",
          "url": "https://du-gae-books-dot-nyt-du-prd.appspot.com/redirect?url1=https%3A%2F%2Fwww.indiebound.org%2Fbook%2F9780590353427%3Faff%3DNYT&url2=https%3A%2F%2Fwww.indiebound.org%2Fsearch%2Fbook%3Fkeys%3DHARRY%2BPOTTER%2BJ.K.%2BRowling%26aff%3DNYT"
        }
      ],
      "__v": 0
    },
    {
      "_id": "643282b2e85766588626a10e",
      "list_name": "Series Books",
      "date": "2023-04-09T09:28:39.425Z",
      "age_group": "",
      "amazon_product_url": "https://www.amazon.com/dp/1250027438?tag=NYTBSREV-20",
      "article_chapter_link": "",
      "author": "Leigh Bardugo",
      "book_image": "https://storage.googleapis.com/du-prd/books/images/9781250027436.jpg",
      "book_image_width": 336,
      "book_image_height": 500,
      "book_review_link": "",
      "book_uri": "nyt://book/ebd0142e-8a70-5a8e-b6c7-7ae33f3f17fc",
      "contributor": "by Leigh Bardugo",
      "contributor_note": "",
      "created_date": "2023-04-05 22:05:24",
      "description": "The basis of the Netflix series; previously titled \"The Grisha Trilogy.\"",
      "first_chapter_link": "",
      "price": "0.00",
      "primary_isbn10": "125019623X",
      "primary_isbn13": "9781250196231",
      "publisher": "Square Fish",
      "rank": 5,
      "rank_last_week": 5,
      "sunday_review_link": "",
      "title": "SHADOW AND BONE TRILOGY",
      "updated_date": "2023-04-05 22:10:14",
      "weeks_on_list": 39,
      "buy_links": [
        {
          "name": "Amazon",
          "url": "https://www.amazon.com/dp/1250027438?tag=NYTBSREV-20"
        },
        {
          "name": "Apple Books",
          "url": "https://goto.applebooks.apple/9781250196231?at=10lIEQ"
        },
        {
          "name": "Barnes and Noble",
          "url": "https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9781250196231"
        },
        {
          "name": "Books-A-Million",
          "url": "https://du-gae-books-dot-nyt-du-prd.appspot.com/redirect?url1=https%3A%2F%2Fwww.anrdoezrs.net%2Fclick-7990613-35140%3Furl%3Dhttps%253A%252F%252Fwww.booksamillion.com%252Fp%252FSHADOW%252BAND%252BBONE%252BTRILOGY%252FLeigh%252BBardugo%252F9781250196231&url2=https%3A%2F%2Fwww.anrdoezrs.net%2Fclick-7990613-35140%3Furl%3Dhttps%253A%252F%252Fwww.booksamillion.com%252Fsearch%253Fquery%253DSHADOW%252BAND%252BBONE%252BTRILOGY%252BLeigh%252BBardugo"
        },
        {
          "name": "Bookshop",
          "url": "https://du-gae-books-dot-nyt-du-prd.appspot.com/redirect?url1=https%3A%2F%2Fbookshop.org%2Fa%2F3546%2F9781250196231&url2=https%3A%2F%2Fbookshop.org%2Fbooks%3Faffiliate%3D3546%26keywords%3DSHADOW%2BAND%2BBONE%2BTRILOGY"
        },
        {
          "name": "IndieBound",
          "url": "https://du-gae-books-dot-nyt-du-prd.appspot.com/redirect?url1=https%3A%2F%2Fwww.indiebound.org%2Fbook%2F9781250196231%3Faff%3DNYT&url2=https%3A%2F%2Fwww.indiebound.org%2Fsearch%2Fbook%3Fkeys%3DSHADOW%2BAND%2BBONE%2BTRILOGY%2BLeigh%2BBardugo%26aff%3DNYT"
        }
      ],
      "__v": 0
    },
    {
      "_id": "643282b2e85766588626a12c",
      "list_name": "Series Books",
      "date": "2023-04-09T09:28:39.549Z",
      "age_group": "",
      "amazon_product_url": "http://www.amazon.com/Captain-Underpants-Revolting-Radioactive-Robo-Boxers/dp/0545175364?tag=NYTBSREV-20",
      "article_chapter_link": "",
      "author": "and   Dav Pilkey",
      "book_image": "https://storage.googleapis.com/du-prd/books/images/9780545175340.jpg",
      "book_image_width": 329,
      "book_image_height": 475,
      "book_review_link": "https://www.nytimes.com/2011/06/29/books/review/childrens-books-super-diaper-baby-2-by-dav-pilkey.html",
      "book_uri": "nyt://book/ba930007-017c-507b-ad95-2de53a663078",
      "contributor": "written and illustrated by Dav Pilkey",
      "contributor_note": "written and illustrated by Dav Pilkey",
      "created_date": "2023-04-05 22:05:24",
      "description": "Boys and their principal fight evil.",
      "first_chapter_link": "",
      "price": "0.00",
      "primary_isbn10": "1338865390",
      "primary_isbn13": "9781338865394",
      "publisher": "Scholastic",
      "rank": 6,
      "rank_last_week": 6,
      "sunday_review_link": "",
      "title": "CAPTAIN UNDERPANTS",
      "updated_date": "2023-04-05 22:10:14",
      "weeks_on_list": 309,
      "buy_links": [
        {
          "name": "Amazon",
          "url": "http://www.amazon.com/Captain-Underpants-Revolting-Radioactive-Robo-Boxers/dp/0545175364?tag=NYTBSREV-20"
        },
        {
          "name": "Apple Books",
          "url": "https://goto.applebooks.apple/9781338865394?at=10lIEQ"
        },
        {
          "name": "Barnes and Noble",
          "url": "https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9781338865394"
        },
        {
          "name": "Books-A-Million",
          "url": "https://du-gae-books-dot-nyt-du-prd.appspot.com/redirect?url1=https%3A%2F%2Fwww.anrdoezrs.net%2Fclick-7990613-35140%3Furl%3Dhttps%253A%252F%252Fwww.booksamillion.com%252Fp%252FCAPTAIN%252BUNDERPANTS%252Fand%252B%252B%252BDav%252BPilkey%252F9781338865394&url2=https%3A%2F%2Fwww.anrdoezrs.net%2Fclick-7990613-35140%3Furl%3Dhttps%253A%252F%252Fwww.booksamillion.com%252Fsearch%253Fquery%253DCAPTAIN%252BUNDERPANTS%252Band%252B%252B%252BDav%252BPilkey"
        },
        {
          "name": "Bookshop",
          "url": "https://du-gae-books-dot-nyt-du-prd.appspot.com/redirect?url1=https%3A%2F%2Fbookshop.org%2Fa%2F3546%2F9781338865394&url2=https%3A%2F%2Fbookshop.org%2Fbooks%3Faffiliate%3D3546%26keywords%3DCAPTAIN%2BUNDERPANTS"
        },
        {
          "name": "IndieBound",
          "url": "https://du-gae-books-dot-nyt-du-prd.appspot.com/redirect?url1=https%3A%2F%2Fwww.indiebound.org%2Fbook%2F9781338865394%3Faff%3DNYT&url2=https%3A%2F%2Fwww.indiebound.org%2Fsearch%2Fbook%3Fkeys%3DCAPTAIN%2BUNDERPANTS%2Band%2B%2B%2BDav%2BPilkey%26aff%3DNYT"
        }
      ],
      "__v": 0
    },
    {
      "_id": "643282b2e85766588626a14c",
      "list_name": "Series Books",
      "date": "2023-04-09T09:28:39.617Z",
      "age_group": "",
      "amazon_product_url": "http://www.amazon.com/Titans-Curse-Percy-Jackson-Olympians/dp/1423101480?tag=NYTBSREV-20",
      "article_chapter_link": "",
      "author": "Rick Riordan",
      "book_image": "https://storage.googleapis.com/du-prd/books/images/9781423131892.jpg",
      "book_image_width": 319,
      "book_image_height": 495,
      "book_review_link": "",
      "book_uri": "nyt://book/e2b52b1b-5fd1-5235-ba04-4be032845359",
      "contributor": "by Rick Riordan",
      "contributor_note": "",
      "created_date": "2023-04-05 22:05:24",
      "description": "A boy battles mythological monsters.",
      "first_chapter_link": "",
      "price": "0.00",
      "primary_isbn10": "1484707230",
      "primary_isbn13": "9781484707234",
      "publisher": "Disney-Hyperion",
      "rank": 7,
      "rank_last_week": 8,
      "sunday_review_link": "https://www.nytimes.com/2009/05/31/books/review/Devereaux-t.html",
      "title": "PERCY JACKSON & THE OLYMPIANS",
      "updated_date": "2023-04-05 22:10:14",
      "weeks_on_list": 667,
      "buy_links": [
        {
          "name": "Amazon",
          "url": "http://www.amazon.com/Titans-Curse-Percy-Jackson-Olympians/dp/1423101480?tag=NYTBSREV-20"
        },
        {
          "name": "Apple Books",
          "url": "https://goto.applebooks.apple/9781484707234?at=10lIEQ"
        },
        {
          "name": "Barnes and Noble",
          "url": "https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9781484707234"
        },
        {
          "name": "Books-A-Million",
          "url": "https://du-gae-books-dot-nyt-du-prd.appspot.com/redirect?url1=https%3A%2F%2Fwww.anrdoezrs.net%2Fclick-7990613-35140%3Furl%3Dhttps%253A%252F%252Fwww.booksamillion.com%252Fp%252FPERCY%252BJACKSON%252B%252526%252BTHE%252BOLYMPIANS%252FRick%252BRiordan%252F9781484707234&url2=https%3A%2F%2Fwww.anrdoezrs.net%2Fclick-7990613-35140%3Furl%3Dhttps%253A%252F%252Fwww.booksamillion.com%252Fsearch%253Fquery%253DPERCY%252BJACKSON%252B%252526%252BTHE%252BOLYMPIANS%252BRick%252BRiordan"
        },
        {
          "name": "Bookshop",
          "url": "https://du-gae-books-dot-nyt-du-prd.appspot.com/redirect?url1=https%3A%2F%2Fbookshop.org%2Fa%2F3546%2F9781484707234&url2=https%3A%2F%2Fbookshop.org%2Fbooks%3Faffiliate%3D3546%26keywords%3DPERCY%2BJACKSON%2B%2526%2BTHE%2BOLYMPIANS"
        },
        {
          "name": "IndieBound",
          "url": "https://du-gae-books-dot-nyt-du-prd.appspot.com/redirect?url1=https%3A%2F%2Fwww.indiebound.org%2Fbook%2F9781484707234%3Faff%3DNYT&url2=https%3A%2F%2Fwww.indiebound.org%2Fsearch%2Fbook%3Fkeys%3DPERCY%2BJACKSON%2B%2526%2BTHE%2BOLYMPIANS%2BRick%2BRiordan%26aff%3DNYT"
        }
      ],
      "__v": 0
    },
    {
      "_id": "643282b2e85766588626a16c",
      "list_name": "Series Books",
      "date": "2023-04-09T09:28:39.718Z",
      "age_group": "",
      "amazon_product_url": "https://www.amazon.com/dp/0316370959?tag=NYTBSREV-20",
      "article_chapter_link": "",
      "author": "Jennifer Lynn Barnes",
      "book_image": "https://storage.googleapis.com/du-prd/books/images/9780316370950.jpg",
      "book_image_width": 333,
      "book_image_height": 500,
      "book_review_link": "",
      "book_uri": "nyt://book/e2abd326-9377-54d9-bf9c-5125478dd1c1",
      "contributor": "by Jennifer Lynn Barnes",
      "contributor_note": "",
      "created_date": "2023-04-05 22:05:24",
      "description": "Avery Grambs tries to figure out why an inheritance from a stranger was bestowed upon her.",
      "first_chapter_link": "",
      "price": "0.00",
      "primary_isbn10": "0759555400",
      "primary_isbn13": "9780759555402",
      "publisher": "Little, Brown",
      "rank": 8,
      "rank_last_week": 7,
      "sunday_review_link": "",
      "title": "THE INHERITANCE GAMES",
      "updated_date": "2023-04-05 22:10:14",
      "weeks_on_list": 31,
      "buy_links": [
        {
          "name": "Amazon",
          "url": "https://www.amazon.com/dp/0316370959?tag=NYTBSREV-20"
        },
        {
          "name": "Apple Books",
          "url": "https://goto.applebooks.apple/9780759555402?at=10lIEQ"
        },
        {
          "name": "Barnes and Noble",
          "url": "https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9780759555402"
        },
        {
          "name": "Books-A-Million",
          "url": "https://du-gae-books-dot-nyt-du-prd.appspot.com/redirect?url1=https%3A%2F%2Fwww.anrdoezrs.net%2Fclick-7990613-35140%3Furl%3Dhttps%253A%252F%252Fwww.booksamillion.com%252Fp%252FTHE%252BINHERITANCE%252BGAMES%252FJennifer%252BLynn%252BBarnes%252F9780759555402&url2=https%3A%2F%2Fwww.anrdoezrs.net%2Fclick-7990613-35140%3Furl%3Dhttps%253A%252F%252Fwww.booksamillion.com%252Fsearch%253Fquery%253DTHE%252BINHERITANCE%252BGAMES%252BJennifer%252BLynn%252BBarnes"
        },
        {
          "name": "Bookshop",
          "url": "https://du-gae-books-dot-nyt-du-prd.appspot.com/redirect?url1=https%3A%2F%2Fbookshop.org%2Fa%2F3546%2F9780759555402&url2=https%3A%2F%2Fbookshop.org%2Fbooks%3Faffiliate%3D3546%26keywords%3DTHE%2BINHERITANCE%2BGAMES"
        },
        {
          "name": "IndieBound",
          "url": "https://du-gae-books-dot-nyt-du-prd.appspot.com/redirect?url1=https%3A%2F%2Fwww.indiebound.org%2Fbook%2F9780759555402%3Faff%3DNYT&url2=https%3A%2F%2Fwww.indiebound.org%2Fsearch%2Fbook%3Fkeys%3DTHE%2BINHERITANCE%2BGAMES%2BJennifer%2BLynn%2BBarnes%26aff%3DNYT"
        }
      ],
      "__v": 0
    },
    {
      "_id": "643282b3e85766588626a186",
      "list_name": "Series Books",
      "date": "2023-04-09T09:28:39.787Z",
      "age_group": "",
      "amazon_product_url": "http://www.amazon.com/Well-Always-Summer-Turned-Pretty/dp/1416995587?tag=NYTBSREV-20",
      "article_chapter_link": "",
      "author": "Jenny Han",
      "book_image": "https://storage.googleapis.com/du-prd/books/images/9781416995586.jpg",
      "book_image_width": 266,
      "book_image_height": 400,
      "book_review_link": "",
      "book_uri": "nyt://book/b2a63312-5fe9-57ac-a6d8-bdd2698762f3",
      "contributor": "by Jenny Han",
      "contributor_note": "",
      "created_date": "2023-04-05 22:05:24",
      "description": "A beach house, summer love and enduring friendships.",
      "first_chapter_link": "",
      "price": "0.00",
      "primary_isbn10": "1416968296",
      "primary_isbn13": "9781416968290",
      "publisher": "Simon & Schuster",
      "rank": 9,
      "rank_last_week": 9,
      "sunday_review_link": "",
      "title": "THE SUMMER I TURNED PRETTY TRILOGY",
      "updated_date": "2023-04-05 22:10:14",
      "weeks_on_list": 50,
      "buy_links": [
        {
          "name": "Amazon",
          "url": "http://www.amazon.com/Well-Always-Summer-Turned-Pretty/dp/1416995587?tag=NYTBSREV-20"
        },
        {
          "name": "Apple Books",
          "url": "https://goto.applebooks.apple/9781416968290?at=10lIEQ"
        },
        {
          "name": "Barnes and Noble",
          "url": "https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9781416968290"
        },
        {
          "name": "Books-A-Million",
          "url": "https://du-gae-books-dot-nyt-du-prd.appspot.com/redirect?url1=https%3A%2F%2Fwww.anrdoezrs.net%2Fclick-7990613-35140%3Furl%3Dhttps%253A%252F%252Fwww.booksamillion.com%252Fp%252FTHE%252BSUMMER%252BI%252BTURNED%252BPRETTY%252BTRILOGY%252FJenny%252BHan%252F9781416968290&url2=https%3A%2F%2Fwww.anrdoezrs.net%2Fclick-7990613-35140%3Furl%3Dhttps%253A%252F%252Fwww.booksamillion.com%252Fsearch%253Fquery%253DTHE%252BSUMMER%252BI%252BTURNED%252BPRETTY%252BTRILOGY%252BJenny%252BHan"
        },
        {
          "name": "Bookshop",
          "url": "https://du-gae-books-dot-nyt-du-prd.appspot.com/redirect?url1=https%3A%2F%2Fbookshop.org%2Fa%2F3546%2F9781416968290&url2=https%3A%2F%2Fbookshop.org%2Fbooks%3Faffiliate%3D3546%26keywords%3DTHE%2BSUMMER%2BI%2BTURNED%2BPRETTY%2BTRILOGY"
        },
        {
          "name": "IndieBound",
          "url": "https://du-gae-books-dot-nyt-du-prd.appspot.com/redirect?url1=https%3A%2F%2Fwww.indiebound.org%2Fbook%2F9781416968290%3Faff%3DNYT&url2=https%3A%2F%2Fwww.indiebound.org%2Fsearch%2Fbook%3Fkeys%3DTHE%2BSUMMER%2BI%2BTURNED%2BPRETTY%2BTRILOGY%2BJenny%2BHan%26aff%3DNYT"
        }
      ],
      "__v": 0
    },
    {
      "_id": "643282b3e85766588626a1a8",
      "list_name": "Series Books",
      "date": "2023-04-09T09:28:40.274Z",
      "age_group": "",
      "amazon_product_url": "http://www.amazon.com/Who-Was-Mother-Teresa-Gigliotti/dp/0448482991?tag=NYTBSREV-20",
      "article_chapter_link": "",
      "author": "Jim Gigliotti and others; various illustrators",
      "book_image": "https://storage.googleapis.com/du-prd/books/images/9780448482996.jpg",
      "book_image_width": 330,
      "book_image_height": 474,
      "book_review_link": "",
      "book_uri": "nyt://book/8c7bb407-650b-53fb-b153-1cd2871d524c",
      "contributor": "by Jim Gigliotti and others; various illustrators",
      "contributor_note": "",
      "created_date": "2023-04-05 22:05:24",
      "description": "Biographies unlock legendary lives.",
      "first_chapter_link": "",
      "price": "0.00",
      "primary_isbn10": "0448483203",
      "primary_isbn13": "9780448483207",
      "publisher": "Penguin Workshop",
      "rank": 10,
      "rank_last_week": 10,
      "sunday_review_link": "",
      "title": "WHO WAS/IS . . . ?",
      "updated_date": "2023-04-05 22:10:14",
      "weeks_on_list": 138,
      "buy_links": [
        {
          "name": "Amazon",
          "url": "http://www.amazon.com/Who-Was-Mother-Teresa-Gigliotti/dp/0448482991?tag=NYTBSREV-20"
        },
        {
          "name": "Apple Books",
          "url": "https://goto.applebooks.apple/9780448483207?at=10lIEQ"
        },
        {
          "name": "Barnes and Noble",
          "url": "https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9780448483207"
        },
        {
          "name": "Books-A-Million",
          "url": "https://du-gae-books-dot-nyt-du-prd.appspot.com/redirect?url1=https%3A%2F%2Fwww.anrdoezrs.net%2Fclick-7990613-35140%3Furl%3Dhttps%253A%252F%252Fwww.booksamillion.com%252Fp%252FWHO%252BWAS%25252FIS%252B.%252B.%252B.%252B%25253F%252FJim%252BGigliotti%252Band%252Bothers%25253B%252Bvarious%252Billustrators%252F9780448483207&url2=https%3A%2F%2Fwww.anrdoezrs.net%2Fclick-7990613-35140%3Furl%3Dhttps%253A%252F%252Fwww.booksamillion.com%252Fsearch%253Fquery%253DWHO%252BWAS%25252FIS%252B.%252B.%252B.%252B%25253F%252BJim%252BGigliotti%252Band%252Bothers%25253B%252Bvarious%252Billustrators"
        },
        {
          "name": "Bookshop",
          "url": "https://du-gae-books-dot-nyt-du-prd.appspot.com/redirect?url1=https%3A%2F%2Fbookshop.org%2Fa%2F3546%2F9780448483207&url2=https%3A%2F%2Fbookshop.org%2Fbooks%3Faffiliate%3D3546%26keywords%3DWHO%2BWAS%252FIS%2B.%2B.%2B.%2B%253F"
        },
        {
          "name": "IndieBound",
          "url": "https://du-gae-books-dot-nyt-du-prd.appspot.com/redirect?url1=https%3A%2F%2Fwww.indiebound.org%2Fbook%2F9780448483207%3Faff%3DNYT&url2=https%3A%2F%2Fwww.indiebound.org%2Fsearch%2Fbook%3Fkeys%3DWHO%2BWAS%252FIS%2B.%2B.%2B.%2B%253F%2BJim%2BGigliotti%2Band%2Bothers%253B%2Bvarious%2Billustrators%26aff%3DNYT"
        }
      ],
      "__v": 0
    },
    {
      "_id": "643282b2e85766588626a11e",
      "list_name": "Hardcover Fiction",
      "date": "2023-04-09T09:28:39.785Z",
      "age_group": "",
      "amazon_product_url": "https://www.amazon.com/dp/1538748363?tag=NYTBSREV-20",
      "article_chapter_link": "",
      "author": "Harlan Coben",
      "book_image": "https://storage.googleapis.com/du-prd/books/images/9781538748367.jpg",
      "book_image_width": 331,
      "book_image_height": 500,
      "book_review_link": "",
      "book_uri": "nyt://book/c789a035-0507-529f-bc7a-c3e829948370",
      "contributor": "by Harlan Coben",
      "contributor_note": "",
      "created_date": "2023-04-05 22:05:23",
      "description": "A man imprisoned for murdering his 3-year-old son becomes convinced his son is still alive and plans an escape.",
      "first_chapter_link": "",
      "price": "0.00",
      "primary_isbn10": "1538748363",
      "primary_isbn13": "9781538748367",
      "publisher": "Grand Central",
      "rank": 6,
      "rank_last_week": 2,
      "sunday_review_link": "",
      "title": "I WILL FIND YOU",
      "updated_date": "2023-04-05 22:10:13",
      "weeks_on_list": 3,
      "buy_links": [
        {
          "name": "Amazon",
          "url": "https://www.amazon.com/dp/1538748363?tag=NYTBSREV-20"
        },
        {
          "name": "Apple Books",
          "url": "https://goto.applebooks.apple/9781538748367?at=10lIEQ"
        },
        {
          "name": "Barnes and Noble",
          "url": "https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9781538748367"
        },
        {
          "name": "Books-A-Million",
          "url": "https://du-gae-books-dot-nyt-du-prd.appspot.com/redirect?url1=https%3A%2F%2Fwww.anrdoezrs.net%2Fclick-7990613-35140%3Furl%3Dhttps%253A%252F%252Fwww.booksamillion.com%252Fp%252FI%252BWILL%252BFIND%252BYOU%252FHarlan%252BCoben%252F9781538748367&url2=https%3A%2F%2Fwww.anrdoezrs.net%2Fclick-7990613-35140%3Furl%3Dhttps%253A%252F%252Fwww.booksamillion.com%252Fsearch%253Fquery%253DI%252BWILL%252BFIND%252BYOU%252BHarlan%252BCoben"
        },
        {
          "name": "Bookshop",
          "url": "https://du-gae-books-dot-nyt-du-prd.appspot.com/redirect?url1=https%3A%2F%2Fbookshop.org%2Fa%2F3546%2F9781538748367&url2=https%3A%2F%2Fbookshop.org%2Fbooks%3Faffiliate%3D3546%26keywords%3DI%2BWILL%2BFIND%2BYOU"
        },
        {
          "name": "IndieBound",
          "url": "https://du-gae-books-dot-nyt-du-prd.appspot.com/redirect?url1=https%3A%2F%2Fwww.indiebound.org%2Fbook%2F9781538748367%3Faff%3DNYT&url2=https%3A%2F%2Fwww.indiebound.org%2Fsearch%2Fbook%3Fkeys%3DI%2BWILL%2BFIND%2BYOU%2BHarlan%2BCoben%26aff%3DNYT"
        }
      ],
      "__v": 0
    },
  ]
  temp = JSON.stringify(temp)
  localStorage.setItem("shopping_list", temp);

import Pagination from 'tui-pagination';

import amazonImage1 from '../../images/png/modal-book/amazon.png';
import amazonImage2 from '../../images/png/modal-book/amazon@2x.png';
import appleImage1 from '../../images/png/modal-book/book.png';
import appleImage2 from '../../images/png/modal-book/book@2x.png';
import bookshopImage1 from '../../images/png/modal-book/book-shop.png';
import bookshopImage2 from '../../images/png/modal-book/book-shop@2x.png';
import booksImageMob1 from '../../images/png/shopping-list/books.png';
import booksImageMob2 from '../../images/png/shopping-list/books@2x.png';
import bookBasket1 from '../../images/png/shopping-list/basket/basket.png';
import bookBasket2 from '../../images/png/shopping-list/basket/basket@2x.png';
import svgIcon from '../../images/icons.svg';

const galleryEl = document.querySelector('.gallery');
const emptyListEl = document.querySelector('.shopping-list-empty');
const paginationEl = document.querySelector('.pagination');
const savedSettings = localStorage.getItem('shopping_list');

let currentPage = 1;

const paginationContainer = document.getElementById('tui-pagination-container');
let perPage = window.innerWidth <= 576 ? 4 : 3;
let visiblePages = window.innerWidth <= 576 ? 2 : 3;
const paginationSettings = {
  totalItems: 100,
  itemsPerPage: perPage,
  visiblePages: visiblePages,
  centerAlign: true,
  template: {
    moveButton:
        '<a href="#" class="tui-page-btn tui-{{type}} custom-class-{{type}}">' +
            '<span class="tui-ico-{{type}}">' +
                `<svg >
                    <use href = "${svgIcon}#icon-pagination-{{type}}"></use>
                </svg>` +
            '</span>' +
        '</a>',
    disabledMoveButton:
        '<span class="tui-page-btn tui-is-disabled tui-{{type}} custom-class-{{type}}">' +
            '<span class="tui-ico-{{type}}">' +
                `<svg >
                    <use href = "${svgIcon}#icon-pagination-{{type}}"></use>
                </svg>` +
            '</span>' +
        '</span>',
  }
};
const paginationInstance = new Pagination(
  paginationContainer,
  paginationSettings
);
paginationInstance.on('beforeMove', function (eventData) {
  currentPage = eventData.page;
  innerMarkup();
});

let parsedSettings = [];
if (savedSettings) {
  parsedSettings = JSON.parse(savedSettings);
  paginationInstance.reset(parsedSettings.length);
}
innerMarkup();

function onClick(event) {
  const target = event.target.closest('.shopping-delete-button');
  const index = parsedSettings.map(element => element._id).indexOf(target.id);
  parsedSettings.splice(index, 1);
  // localStorage.setItem('shopping_list', JSON.stringify(parsedSettings));
  innerMarkup();
}

function innerMarkup() {
  offListener();
  if (parsedSettings.length) {
    const markup = getMarkup()
      .map(dataItem => buildBooks(dataItem))
      .join('');
    galleryEl.innerHTML = markup;
    onListener();
    paginationEl.classList.add('pagination-visible');
    paginationEl.classList.remove('pagination-hidden');
  } else {
    paginationEl.classList.add('pagination-hidden');
    paginationEl.classList.remove('pagination-visible');
    emptyListEl.innerHTML = buildEmptyList();
    galleryEl.innerHTML = ``;
  }
}

function getMarkup() {
  const from = 0 + (currentPage - 1) * perPage;
  const to = perPage + (currentPage - 1) * perPage;
  return parsedSettings.slice(from, to);
}

function offListener() {
  removeEventListener('click', onClick);
  removeEventListener('resize', onResize);
}

function onListener() {
  const buttonEl = document.querySelectorAll('.shopping-delete-button');
  buttonEl.forEach(element => {
    element.addEventListener('click', onClick);
  });
  window.addEventListener('resize', onResize);
}

function onClick(event) {
    const target = event.target.closest('.shopping-delete-button');
    const index = parsedSettings.map(element => element._id).indexOf(target.id);
    parsedSettings.splice(index, 1);
    innerMarkup();
    paginationInstance.setTotalItems(parsedSettings.length);
    paginationInstance.movePageTo(paginationInstance.getCurrentPage());
  }

  function onResize(event) {
    const _perPage = event.target.innerWidth <= 576 ? 4 : 3
    if (_perPage != perPage) {
        perPage = _perPage
        paginationInstance.setItemsPerPage(perPage)
        innerMarkup()
        paginationInstance.movePageTo(paginationInstance.getCurrentPage());
    }
  }

function buildEmptyList() {
  return `
    <p>This page is empty, add some books and proceed to order.</p>
    <img srcset=" ${booksImageMob1} 1x, ${booksImageMob2} 2x" src="${booksImageMob1}" alt="books">
  `;
}

buildBooks(parsedSettings);
function buildBooks({
  book_image,
  title,
  list_name,
  description,
  author,
  _id,
  buy_links,
}) {
  let urlAmazon = '';
  let urlApplebooks = '';
  let urlBookshop = '';
  if (buy_links) {
    const names = buy_links.map(item => item.name);
    const indexAmazon = names.indexOf('Amazon');
    urlAmazon = buy_links[indexAmazon].url;

    const indexApplebooks = names.indexOf('Apple Books');
    urlApplebooks = buy_links[indexApplebooks].url;

    const indexBookshop = names.indexOf('Bookshop');
    urlBookshop = buy_links[indexBookshop].url;
  }
  return `
  <li class="border shopping-list-item">
    <img src="${book_image}" alt="${title}" class="book_image">
    <div class = "book-info">
        <div>
            <div class="shopping-list-item-action">
                <div>
                    <h3 class = "book-tittle">${title}</h3>
                    <p class = "list-name">${list_name}</p>
                </div>
                <button id="${_id}" class="shopping-delete-button">
                    <img srcset=" ${bookBasket1} 1x, ${bookBasket2} 2x"   src="${bookBasket1}" alt="basket" class = "basket">
                </button>
            </div>
        <div  class="description-info">
            <p class = "description">${description}</p>
        </div>
    </div>
    <div class="shopping-list-item-buy">
        <p class = "author">${author}</p>
        <ul class="list-buy">
          <li>
            <a target="_blank" href="${urlAmazon}">
              <img srcset="${amazonImage1} 1x, ${amazonImage2} 2x" src="${amazonImage1}" alt="amazon" class="link-amazon">
            </a>
          </li>
          <li>
            <a target="_blank" href="${urlApplebooks}">
              <img srcset="${appleImage1} 1x, ${appleImage2} 2x" src="${appleImage1}" alt="applebooks" class="link-applebooks">
            </a>
          </li>
          <li>
            <a target="_blank" href="${urlBookshop}">
              <img srcset="${bookshopImage1} 1x, ${bookshopImage2} 2x" src="${bookshopImage1}" alt="bookshop" class="link-bookshop">
            </a>
          </li>
        </ul>
      </div>
    </div>
  </li>
  `;
}
